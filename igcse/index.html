<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IGCSE AI Tutor</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: #2f3640;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: white;
            font-size: 2.5em;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.2s ease;
        }
        
        .section:hover {
            transform: translateY(-2px);
        }
        
        .section h2 {
            color: #2f3640;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        
        label {
            font-weight: 600;
            display: block;
            margin-bottom: 5px;
            color: #2f3640;
        }
        
        select, input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e6ed;
            border-radius: 10px;
            font-size: 14px;
            margin-bottom: 15px;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
        }
        
        select:focus, input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .chatbox {
            max-height: 400px;
            overflow-y: auto;
            border: 2px solid #e0e6ed;
            padding: 15px;
            border-radius: 12px;
            background: #fafbfc;
            margin-bottom: 15px;
        }
        
        .message {
            margin: 12px 0;
            padding: 12px 16px;
            border-radius: 12px;
            max-width: 85%;
            word-wrap: break-word;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .user {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-left: auto;
            text-align: right;
        }
        
        .tutor {
            background: #f8f9fa;
            color: #2f3640;
            margin-right: auto;
            border: 1px solid #e9ecef;
        }
        
        .error {
            color: #e74c3c;
            font-style: italic;
            background: #fdf2f2;
            padding: 10px;
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
        }
        
        .questions {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 12px;
        }
        
        .question-item {
            background: white;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .question-item:last-child {
            margin-bottom: 0;
        }
        
        .question-text {
            font-weight: 600;
            color: #2f3640;
            margin-bottom: 8px;
        }
        
        .answer-text {
            color: #495057;
            line-height: 1.5;
        }
        
        .loading {
            text-align: center;
            color: #667eea;
            font-style: italic;
        }
        
        .chat-input-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .chat-input-container input {
            flex: 1;
            margin-bottom: 0;
        }
        
        .chat-input-container button {
            width: auto;
            min-width: 80px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 0 10px;
            }
            
            .section {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìò IGCSE AI Tutor</h1>

        <!-- Question Generator -->
        <div class="section">
            <h2>üéØ Generate Practice Questions</h2>
            <label for="subject">Subject:</label>
            <select id="subject">
                <option value="Math">Mathematics</option>
                <option value="English">English Language & Literature</option>
                <option value="Physics">Physics</option>
                <option value="Chemistry">Chemistry</option>
                <option value="Biology">Biology</option>
                <option value="Geography">Geography</option>
                <option value="History">History</option>
                <option value="Economics">Economics</option>
            </select>

            <label for="subtopic">Subtopic or Chapter:</label>
            <input type="text" id="subtopic" placeholder="e.g., Quadratic equations, Photosynthesis, World War I..." />

            <button onclick="generateQuestions()">üé≤ Generate Questions</button>
            <div id="questions" class="questions" style="display: none;"></div>
        </div>

        <!-- AI Tutor Chat -->
        <div class="section">
            <h2>üí¨ Ask the AI Tutor</h2>
            <div class="chatbox" id="chatbox">
                <div class="message tutor">
                    üëã Hello! I'm your IGCSE AI tutor. I can help you with:
                    <br>‚Ä¢ Explaining difficult concepts
                    <br>‚Ä¢ Solving practice problems
                    <br>‚Ä¢ Exam preparation tips
                    <br>‚Ä¢ Study strategies
                    <br><br>What would you like to learn about today?
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" id="chatInput" placeholder="Ask me anything about your IGCSE subjects..." 
                       onkeypress="if(event.key==='Enter') sendMessage()" />
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <script>
        // Since we can't use external APIs in Claude artifacts, we'll simulate the AI responses
        
        const sampleQuestions = {
            "Mathematics": {
                "quadratic": [
                    {
                        question: "Solve the quadratic equation: x¬≤ - 5x + 6 = 0",
                        answer: "Using factoring: (x-2)(x-3) = 0, so x = 2 or x = 3. We can verify by substituting back into the original equation."
                    },
                    {
                        question: "Find the vertex of the parabola y = 2x¬≤ - 8x + 3",
                        answer: "Using the vertex formula x = -b/2a: x = 8/4 = 2. Substituting: y = 2(4) - 8(2) + 3 = -5. Vertex is at (2, -5)."
                    }
                ],
                "algebra": [
                    {
                        question: "Simplify: 3(2x + 4) - 2(x - 1)",
                        answer: "3(2x + 4) - 2(x - 1) = 6x + 12 - 2x + 2 = 4x + 14"
                    },
                    {
                        question: "Solve for x: 2x - 7 = 3x + 1",
                        answer: "2x - 7 = 3x + 1 ‚Üí -7 - 1 = 3x - 2x ‚Üí -8 = x, so x = -8"
                    }
                ],
                "geometry": [
                    {
                        question: "Find the area of a circle with radius 5 cm",
                        answer: "Area = œÄr¬≤ = œÄ √ó 5¬≤ = 25œÄ ‚âà 78.54 cm¬≤"
                    },
                    {
                        question: "Calculate the volume of a cylinder with radius 3 cm and height 8 cm",
                        answer: "Volume = œÄr¬≤h = œÄ √ó 3¬≤ √ó 8 = 72œÄ ‚âà 226.19 cm¬≥"
                    }
                ]
            },
            "Physics": {
                "motion": [
                    {
                        question: "A car accelerates from rest at 2 m/s¬≤ for 5 seconds. What is its final velocity?",
                        answer: "Using v = u + at where u = 0, a = 2 m/s¬≤, t = 5s: v = 0 + 2(5) = 10 m/s"
                    },
                    {
                        question: "Calculate the gravitational potential energy of a 2 kg object at height 10 m (g = 9.8 m/s¬≤)",
                        answer: "PE = mgh = 2 √ó 9.8 √ó 10 = 196 J"
                    }
                ],
                "electricity": [
                    {
                        question: "Calculate current when 12V is applied across a 4Œ© resistor",
                        answer: "Using Ohm's law V = IR: I = V/R = 12/4 = 3 A"
                    },
                    {
                        question: "Find the total resistance of two 6Œ© resistors connected in parallel",
                        answer: "For parallel resistors: 1/R = 1/R‚ÇÅ + 1/R‚ÇÇ = 1/6 + 1/6 = 2/6 = 1/3, so R = 3Œ©"
                    }
                ],
                "waves": [
                    {
                        question: "A wave has frequency 50 Hz and wavelength 2 m. Find its speed.",
                        answer: "Using v = fŒª: v = 50 √ó 2 = 100 m/s"
                    },
                    {
                        question: "What happens when light travels from air into glass?",
                        answer: "Speed decreases (due to higher refractive index), wavelength decreases, but frequency remains constant."
                    }
                ]
            },
            "Chemistry": {
                "atoms": [
                    {
                        question: "How many protons, neutrons and electrons does ¬π¬≤C have?",
                        answer: "Carbon-12 has 6 protons (atomic number), 6 neutrons (12-6), and 6 electrons (neutral atom)"
                    },
                    {
                        question: "Write the electron configuration of oxygen (atomic number 8)",
                        answer: "Oxygen: 1s¬≤ 2s¬≤ 2p‚Å¥ or [He] 2s¬≤ 2p‚Å¥"
                    }
                ],
                "bonding": [
                    {
                        question: "Explain why NaCl has a high melting point",
                        answer: "NaCl has ionic bonding with strong electrostatic forces between Na‚Å∫ and Cl‚Åª ions, requiring significant energy to overcome"
                    },
                    {
                        question: "Predict the shape of methane (CH‚ÇÑ) using VSEPR theory",
                        answer: "CH‚ÇÑ has 4 bonding pairs and 0 lone pairs around carbon, giving a tetrahedral shape with bond angles of 109.5¬∞"
                    }
                ],
                "reactions": [
                    {
                        question: "Balance: Na + H‚ÇÇO ‚Üí NaOH + H‚ÇÇ",
                        answer: "2Na + 2H‚ÇÇO ‚Üí 2NaOH + H‚ÇÇ"
                    },
                    {
                        question: "What type of reaction is: CaCO‚ÇÉ ‚Üí CaO + CO‚ÇÇ?",
                        answer: "This is a thermal decomposition reaction - one compound breaks down into two or more products when heated."
                    }
                ]
            },
            "Biology": {
                "cells": [
                    {
                        question: "What are the main differences between plant and animal cells?",
                        answer: "Plant cells have: cell wall, chloroplasts, large vacuole. Animal cells have: centrioles, lysosomes, smaller vacuoles."
                    },
                    {
                        question: "Describe the function of mitochondria",
                        answer: "Mitochondria produce ATP through cellular respiration. They're the 'powerhouses' of the cell, converting glucose and oxygen into energy."
                    }
                ],
                "photosynthesis": [
                    {
                        question: "Write the word equation for photosynthesis",
                        answer: "Carbon dioxide + Water ‚Üí Glucose + Oxygen (in the presence of light and chlorophyll)"
                    },
                    {
                        question: "Why are leaves green?",
                        answer: "Leaves contain chlorophyll which absorbs red and blue light but reflects green light, making them appear green."
                    }
                ]
            },
            "English Language & Literature": {
                "grammar": [
                    {
                        question: "What is the difference between 'affect' and 'effect'?",
                        answer: "'Affect' is usually a verb (to influence), 'effect' is usually a noun (a result). Memory tip: Affect = Action, Effect = End result."
                    },
                    {
                        question: "Identify the literary device: 'The wind whispered through the trees'",
                        answer: "This is personification - giving human characteristics (whispering) to non-human things (wind)."
                    }
                ],
                "writing": [
                    {
                        question: "How do you structure a persuasive essay?",
                        answer: "1. Introduction with clear thesis, 2. Body paragraphs with evidence and examples, 3. Address counterarguments, 4. Strong conclusion that reinforces your position."
                    },
                    {
                        question: "What makes a good opening paragraph?",
                        answer: "A hook to grab attention, background information, and a clear thesis statement that previews your main arguments."
                    }
                ]
            }
        };

        const tutorResponses = [
            "I'd be happy to help you with that! Let me break this down step by step...",
            "That's a great question! Here's how I would approach this problem...",
            "Let me explain this concept clearly with an example...",
            "This is an important topic in IGCSE. Here's what you need to know...",
            "I can see why this might be confusing. Let me clarify...",
            "Good question! This often comes up in exams. Here's the key..."
        ];

        function generateQuestions() {
            const subject = document.getElementById("subject").value;
            const subtopic = document.getElementById("subtopic").value.trim().toLowerCase();
            const output = document.getElementById("questions");
            
            output.style.display = "block";
            output.innerHTML = '<div class="loading">üîÑ Generating IGCSE practice questions...</div>';

            // Simulate API delay for realism
            setTimeout(() => {
                let questions = [];
                let matchedTopic = "";
                
                // Search for matching questions in the database
                if (sampleQuestions[subject]) {
                    // Try to find exact or partial matches
                    for (let topic in sampleQuestions[subject]) {
                        if (subtopic === "" || 
                            subtopic.includes(topic) || 
                            topic.includes(subtopic) ||
                            topic.toLowerCase().includes(subtopic) ||
                            subtopic.includes(topic.toLowerCase())) {
                            questions = [...sampleQuestions[subject][topic]];
                            matchedTopic = topic;
                            break;
                        }
                    }
                    
                    // If no specific match, combine questions from all topics
                    if (questions.length === 0 && subtopic === "") {
                        const allTopics = Object.keys(sampleQuestions[subject]);
                        // Get 2 questions from random topics
                        for (let i = 0; i < Math.min(2, allTopics.length); i++) {
                            const randomTopic = allTopics[Math.floor(Math.random() * allTopics.length)];
                            questions.push(...sampleQuestions[subject][randomTopic].slice(0, 1));
                        }
                        matchedTopic = "various topics";
                    }
                    
                    // If still no questions, use the first available topic
                    if (questions.length === 0) {
                        const firstTopic = Object.keys(sampleQuestions[subject])[0];
                        questions = sampleQuestions[subject][firstTopic];
                        matchedTopic = firstTopic;
                    }
                }
                
                // Generate fallback questions if no specific ones found
                if (questions.length === 0) {
                    questions = [
                        {
                            question: `Describe the key concepts in ${subtopic || subject.toLowerCase()}`,
                            answer: `The main concepts include fundamental principles, problem-solving techniques, and practical applications. For ${subject}, focus on understanding core theories, practicing calculations, and connecting concepts to real-world examples.`
                        },
                        {
                            question: `How should I prepare for the ${subject} IGCSE exam${subtopic ? ` on ${subtopic}` : ''}?`,
                            answer: `Effective preparation includes: creating a study timetable, practicing past papers, understanding mark schemes, making summary notes, and identifying weak areas. Focus on understanding concepts rather than just memorizing facts.`
                        }
                    ];
                    matchedTopic = "general study advice";
                }

                // Create the HTML output
                let topicInfo = matchedTopic !== "various topics" && matchedTopic !== "general study advice" ? 
                    `<div style="background: #e8f4fd; padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #667eea;">
                        <strong>üìñ Topic:</strong> ${subject} - ${matchedTopic.charAt(0).toUpperCase() + matchedTopic.slice(1)}
                    </div>` : '';

                output.innerHTML = topicInfo + questions.map((q, index) => 
                    `<div class="question-item">
                        <div class="question-text">‚ùì <strong>Question ${index + 1}:</strong> ${q.question}</div>
                        <div class="answer-text">‚úÖ <strong>Answer:</strong> ${q.answer}</div>
                    </div>`
                ).join("") + 
                `<div style="margin-top: 20px; padding: 15px; background: #f0f9ff; border-radius: 8px; text-align: center; color: #1e40af;">
                    <strong>üí° Study Tip:</strong> Try solving these questions first before looking at the answers. This helps with active recall!
                </div>`;
                
            }, 800); // Reduced delay for better UX
        }

        function addChatMessage(msg, sender) {
            const chatbox = document.getElementById("chatbox");
            const div = document.createElement("div");
            div.className = `message ${sender}`;
            div.innerHTML = msg.replace(/\n/g, '<br>');
            chatbox.appendChild(div);
            chatbox.scrollTop = chatbox.scrollHeight;
        }

        function generateTutorResponse(userMessage) {
            const message = userMessage.toLowerCase();
            
            // Math responses
            if (message.includes("quadratic") || (message.includes("solve") && message.includes("equation"))) {
                return "For quadratic equations, remember the standard form ax¬≤ + bx + c = 0. You can solve using:\n\nüî¢ **Methods:**\n‚Ä¢ **Factoring** - Look for two numbers that multiply to 'c' and add to 'b'\n‚Ä¢ **Quadratic formula** - x = (-b ¬± ‚àö(b¬≤-4ac))/2a\n‚Ä¢ **Completing the square** - Useful for finding vertex form\n\n**Example:** x¬≤ - 5x + 6 = 0\nFactoring: (x-2)(x-3) = 0, so x = 2 or x = 3\n\nWhich method would you like me to explain step-by-step?";
            }
            
            if (message.includes("algebra") || message.includes("simplify")) {
                return "Algebra is all about working with variables! Here are key steps:\n\nüìù **Simplifying expressions:**\n‚Ä¢ Combine like terms (3x + 2x = 5x)\n‚Ä¢ Use distributive property: a(b + c) = ab + ac\n‚Ä¢ Follow BODMAS/PEMDAS order\n\n**Example:** 3(2x + 4) - 2(x - 1)\n= 6x + 12 - 2x + 2\n= 4x + 14\n\nWhat specific algebra problem are you working on?";
            }
            
            // Physics responses  
            if (message.includes("physics") || message.includes("force") || message.includes("motion")) {
                return "Physics is fascinating! Let's break down motion and forces:\n\n‚ö° **Key equations:**\n‚Ä¢ **v = u + at** (final velocity)\n‚Ä¢ **s = ut + ¬Ωat¬≤** (displacement)\n‚Ä¢ **F = ma** (Newton's 2nd law)\n‚Ä¢ **W = Fd** (work done)\n\n**Remember:** Always identify what you're given and what you need to find. Draw diagrams when possible!\n\n**Example:** A car accelerates from rest at 2 m/s¬≤ for 5s\nUsing v = u + at: v = 0 + 2(5) = 10 m/s\n\nWhat physics problem are you stuck on?";
            }
            
            if (message.includes("electricity") || message.includes("current") || message.includes("voltage")) {
                return "Electricity follows predictable patterns! üîå\n\n**Ohm's Law:** V = IR\n‚Ä¢ V = Voltage (Volts)\n‚Ä¢ I = Current (Amps) \n‚Ä¢ R = Resistance (Ohms)\n\n**Series circuits:** Same current, voltages add up\n**Parallel circuits:** Same voltage, currents add up\n\n**Example:** 12V across 4Œ© resistor\nI = V/R = 12/4 = 3A\n\nNeed help with a specific electricity problem?";
            }
            
            // Chemistry responses
            if (message.includes("chemistry") || message.includes("atom") || message.includes("element")) {
                return "Chemistry is like building with atoms! üß™\n\n**Atomic structure:**\n‚Ä¢ **Protons** - positive charge, in nucleus\n‚Ä¢ **Neutrons** - no charge, in nucleus  \n‚Ä¢ **Electrons** - negative charge, in shells\n\n**Key concepts:**\n‚Ä¢ Atomic number = number of protons\n‚Ä¢ Mass number = protons + neutrons\n‚Ä¢ Electron configuration follows shell rules\n\n**Example:** Carbon-12 (¬π¬≤C)\n‚Ä¢ 6 protons, 6 neutrons, 6 electrons\n‚Ä¢ Electron config: 1s¬≤ 2s¬≤ 2p¬≤\n\nWhat chemistry topic shall we explore?";
            }
            
            if (message.includes("bonding") || message.includes("ionic") || message.includes("covalent")) {
                return "Chemical bonding explains how atoms stick together! üîó\n\n**Types of bonding:**\n‚Ä¢ **Ionic** - metal + non-metal, electrons transferred\n‚Ä¢ **Covalent** - non-metals sharing electrons\n‚Ä¢ **Metallic** - sea of electrons around metal atoms\n\n**Properties:**\n‚Ä¢ Ionic: high melting points, conduct when dissolved\n‚Ä¢ Covalent: lower melting points, don't conduct\n‚Ä¢ Metallic: conduct electricity, malleable\n\n**Example:** NaCl (ionic)\nNa loses 1 electron ‚Üí Na‚Å∫\nCl gains 1 electron ‚Üí Cl‚Åª\nStrong attraction = high melting point\n\nWhich bonding type interests you most?";
            }
            
            // Biology responses
            if (message.includes("biology") || message.includes("cell") || message.includes("photosynthesis")) {
                return "Biology is the study of life! üå±\n\n**Cell basics:**\n‚Ä¢ **Plant cells:** cell wall, chloroplasts, large vacuole\n‚Ä¢ **Animal cells:** centrioles, lysosomes, small vacuoles\n‚Ä¢ **Both have:** nucleus, mitochondria, cytoplasm\n\n**Photosynthesis equation:**\nCO‚ÇÇ + H‚ÇÇO ‚Üí C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + O‚ÇÇ\n(with light + chlorophyll)\n\n**Why leaves are green:** Chlorophyll absorbs red/blue light but reflects green!\n\nWhat biology topic would you like to explore?";
            }
            
            // English responses
            if (message.includes("english") || message.includes("grammar") || message.includes("essay")) {
                return "English skills are essential for all subjects! üìö\n\n**Common confusions:**\n‚Ä¢ **Affect vs Effect:** Affect = verb (to influence), Effect = noun (result)\n‚Ä¢ **There/Their/They're:** There = place, Their = possession, They're = they are\n\n**Essay structure:**\n1. **Introduction:** Hook + background + thesis\n2. **Body paragraphs:** Topic sentence + evidence + analysis\n3. **Conclusion:** Restate thesis + summarize + final thought\n\n**Literary devices:**\n‚Ä¢ Metaphor, simile, personification, alliteration\n\nWhat aspect of English are you working on?";
            }
            
            // Study skills and exam prep
            if (message.includes("exam") || message.includes("test") || message.includes("prepare") || message.includes("study")) {
                return "Excellent study strategies for IGCSE success! üìñ\n\n**Before studying:**\n‚Ä¢ Create a realistic timetable\n‚Ä¢ Find a quiet, comfortable space\n‚Ä¢ Gather all materials needed\n\n**While studying:**\n‚Ä¢ Use active recall (test yourself)\n‚Ä¢ Make summary notes\n‚Ä¢ Practice past papers\n‚Ä¢ Take regular breaks (Pomodoro technique)\n\n**Exam day tips:**\n‚Ä¢ Read questions carefully\n‚Ä¢ Plan your time\n‚Ä¢ Show all working in math/science\n‚Ä¢ Check answers if time permits\n\n**Command words to know:**\n‚Ä¢ Describe = give details\n‚Ä¢ Explain = give reasons why\n‚Ä¢ Compare = similarities and differences\n‚Ä¢ Evaluate = judge importance/success\n\nWhat subject exam are you preparing for?";
            }
            
            // Math specific topics
            if (message.includes("geometry") || message.includes("area") || message.includes("volume")) {
                return "Geometry is about shapes, space, and measurement! üìê\n\n**Area formulas:**\n‚Ä¢ Rectangle: length √ó width\n‚Ä¢ Circle: œÄr¬≤\n‚Ä¢ Triangle: ¬Ω √ó base √ó height\n\n**Volume formulas:**\n‚Ä¢ Cube: side¬≥\n‚Ä¢ Cylinder: œÄr¬≤h\n‚Ä¢ Sphere: (4/3)œÄr¬≥\n\n**Circle facts:**\n‚Ä¢ Circumference = 2œÄr\n‚Ä¢ œÄ ‚âà 3.14159\n\n**Example:** Circle with radius 5cm\nArea = œÄ √ó 5¬≤ = 25œÄ ‚âà 78.54 cm¬≤\n\nWhat geometry problem are you working on?";
            }
            
            // General help and encouragement
            if (message.includes("help") || message.includes("explain") || message.includes("understand") || message.includes("confused")) {
                return "I'm here to help you succeed! üåü\n\n**I can assist with:**\n‚Ä¢ Breaking down complex concepts\n‚Ä¢ Step-by-step problem solving\n‚Ä¢ Exam preparation strategies\n‚Ä¢ Study techniques that work\n‚Ä¢ Subject-specific tips\n\n**Remember:**\n‚Ä¢ Every expert was once a beginner\n‚Ä¢ Mistakes are part of learning\n‚Ä¢ Practice makes progress (not perfection!)\n‚Ä¢ Ask questions - that's how you grow!\n\n**My specialties:**\n‚Ä¢ Mathematics (algebra, geometry, statistics)\n‚Ä¢ Sciences (Physics, Chemistry, Biology)\n‚Ä¢ English (grammar, essay writing, literature)\n\nWhat specific topic or question do you have? Be as detailed as you like!";
            }
            
            // Motivation and encouragement
            if (message.includes("difficult") || message.includes("hard") || message.includes("struggling") || message.includes("can't")) {
                return "I understand it feels challenging right now, but you've got this! üí™\n\n**When something feels difficult:**\n‚Ä¢ Break it into smaller steps\n‚Ä¢ Start with what you DO know\n‚Ä¢ Practice similar but easier problems first\n‚Ä¢ Don't be afraid to ask for help\n\n**Growth mindset reminders:**\n‚Ä¢ 'I can't do this YET'\n‚Ä¢ 'Mistakes help me learn'\n‚Ä¢ 'Effort builds ability'\n‚Ä¢ 'Challenges make me stronger'\n\n**Study strategies that help:**\n‚Ä¢ Use visual aids (diagrams, mind maps)\n‚Ä¢ Explain concepts out loud\n‚Ä¢ Find real-world connections\n‚Ä¢ Study with friends\n\n**Remember:** Every IGCSE student finds some topics challenging - that's completely normal! The key is persistence and the right approach.\n\nWhat specific topic is giving you trouble? Let's tackle it together!";
            }
            
            // Default response with more personality
            const encouragingStarts = [
                "Great question! ü§î",
                "I'd love to help with that! ‚ú®",
                "Let's explore this together! üöÄ",
                "That's an interesting topic! üí°",
                "I'm excited to help you learn! üìö"
            ];
            
            const randomStart = encouragingStarts[Math.floor(Math.random() * encouragingStarts.length)];
            return randomStart + " Could you be more specific about what you'd like to learn?\n\n**I can help with:**\n‚Ä¢ Mathematics (algebra, geometry, calculus)\n‚Ä¢ Physics (motion, electricity, waves)\n‚Ä¢ Chemistry (atoms, bonding, reactions)\n‚Ä¢ Biology (cells, photosynthesis, genetics)\n‚Ä¢ English (grammar, essays, literature)\n\n**Or try asking:**\n‚Ä¢ 'Explain quadratic equations'\n‚Ä¢ 'Help me with physics motion problems'\n‚Ä¢ 'How do I write a good essay?'\n‚Ä¢ 'What is photosynthesis?'\n\nWhat subject interests you most today?";
        }

        async function sendMessage() {
            const chatInput = document.getElementById("chatInput");
            const message = chatInput.value.trim();
            if (!message) return;

            addChatMessage(message, "user");
            chatInput.value = "";

            // Show typing indicator
            addChatMessage("ü§î Thinking...", "tutor");
            
            // Simulate thinking delay
            setTimeout(() => {
                // Remove thinking message
                const chatbox = document.getElementById("chatbox");
                chatbox.removeChild(chatbox.lastElementChild);
                
                // Add actual response
                const response = generateTutorResponse(message);
                addChatMessage(response, "tutor");
            }, 1000);
        }

        // Initialize with a random tip
        const tips = [
            "üí° Tip: Practice a little bit every day rather than cramming before exams!",
            "üí° Tip: Make flashcards for key formulas and concepts!",
            "üí° Tip: Explain concepts out loud to test your understanding!",
            "üí° Tip: Use past papers to identify your weak areas!",
            "üí° Tip: Create mind maps to visualize connections between topics!"
        ];
        
        setTimeout(() => {
            const randomTip = tips[Math.floor(Math.random() * tips.length)];
            addChatMessage(randomTip, "tutor");
        }, 3000);
    </script>
</body>
</html>
